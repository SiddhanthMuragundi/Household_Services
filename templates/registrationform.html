{% extends 'layout.html' %}
{% block title %}
Register - Expert Household Services
{% endblock %}

{% block content %}

<div class="registration-container">
    <h2>Register</h2>

    <!-- customer Type Selection -->
    <div class="customer-type">
        <button type="button" class="btn" onclick="showForm('customer')">Customer</button>
        <button type="button" class="btn" onclick="showForm('service')">Service Professional</button>
    </div>

    <!-- Scrollable Frame for Registration Form -->
    <div class="scrollable-frame">

        <!-- customer Registration Form -->
        <form id="customer-form" class="registration-form" method="POST" action="{{ url_for('register_customer') }}" onsubmit="return validateCustomerForm()">
            <div class="form-group">
                <label for="customer-username">Name: <span style="color: red;">*</span></label>
                <input type="text" class="form-control" id="customer-username" name="customer-username" placeholder="Enter your username" required minlength="4" maxlength="20" pattern="[A-Za-z0-9_ ]+" title="Name must be 4-20 characters long, containing only letters, numbers, and underscores.">
                <small class="form-text text-muted">Your full name as per the government ID.</small>
            </div>
            <div class="form-group">
                <label for="customer-email">Email: <span style="color: red;">*</span></label>
                <input type="email" class="form-control" id="customer-email" name="customer-email" placeholder="Enter your email" required>
                <small class="form-text text-muted">Please enter a valid email address.</small>
            </div>
            <div class="form-group">
                <label for="customer-password">Password: <span style="color: red;">*</span></label>
                <input type="password" class="form-control" id="customer-password" name="customer-password" placeholder="Enter your password" required minlength="8" title="Password must be at least 8 characters long, including uppercase, lowercase, numbers, and special characters.">
                <small class="form-text text-muted">Password must be at least 8 characters long, including uppercase, lowercase, numbers, and special characters.</small>
            </div>
            <div class="form-group">
                <label for="customer-phone-no">Phone Number: <span style="color: red;">*</span></label>
                <input type="tel" class="form-control" id="customer-phone-no" name="customer-phone-no" placeholder="Enter your phone number" required pattern="^\+?\d{1,3}[- ]?\d{1,4}[- ]?\d{4,10}$" title="Please enter a valid phone number, excluding country code." maxlength="10" minlength="10">
                <small class="form-text text-muted">Please enter a valid phone number, excluding country code.</small>
            </div>
            <div class="form-group">
                <label for="customer-address">Address: <span style="color: red;">*</span></label>
                <input type="text" class="form-control" id="customer-address" name="customer-address" placeholder="Enter your address" required>
                <small class="form-text text-muted">Provide a complete address including street, city, etc.</small>
            </div>
            
            <div class="form-group">
                <label for="customer-district">District: <span style="color: red;">*</span></label>
                <input type="text" class="form-control" id="customer-district" name="customer-district" placeholder="Enter your district" required>
                <small class="form-text text-muted">Enter the name of your district.</small>
            </div>
            
            <div class="form-group">
                <label for="customer-state">State: <span style="color: red;">*</span></label>
                <input type="text" class="form-control" id="customer-state" name="customer-state" placeholder="Enter your state" required>
                <small class="form-text text-muted">Enter the name of your state.</small>
            </div>
            
            <div class="form-group">
                <label for="customer-country">Country: <span style="color: red;">*</span></label>
                <input type="text" class="form-control" id="customer-country" name="customer-country" placeholder="Enter your country" required>
                <small class="form-text text-muted">Enter the name of your country.</small>
            </div>
            
            <div class="form-group">
                <label for="customer-pincode">Pincode: <span style="color: red;">*</span></label>
                <input type="text" class="form-control" id="customer-pincode" name="customer-pincode" placeholder="Enter your pincode" required pattern="^\d{6}$" title="Enter a valid 6-digit pincode (ZIP code).">
                <small class="form-text text-muted">Enter a valid 6-digit pincode (ZIP code).</small>
            </div>
            
            <button type="submit" class="btn btn-custom btn-block">Register</button>
        </form>

        <!-- Service Professional Registration Form -->
        <form id="service-prof-form" class="registration-form hidden" method="POST" action="{{ url_for('register_service_prof') }}" enctype="multipart/form-data" onsubmit="return validateServiceProfForm()">
            <div class="form-group">
                <label for="service-prof-govt-id-no">Government ID: <span style="color: red;">*</span></label>
                <input type="text" class="form-control" id="service-prof-govt-id-no" name="service-prof-govt-id-no" placeholder="Enter your Government ID" required>
                <small class="form-text text-muted">Enter your valid government-issued ID number.</small>
            </div>
            <div class="form-group">
                <label for="service-prof-name">Name: <span style="color: red;">*</span></label>
                <input type="text" class="form-control" id="service-prof-name" name="service-prof-name" placeholder="Enter your name" required  required minlength="4" maxlength="20" pattern="[A-Za-z0-9_ ]+" title="Name must be 4-20 characters long, containing only letters, numbers, and underscores.">
                <small class="form-text text-muted">Your full name as per the government ID.</small>
            </div>
            <div class="form-group">
                <label for="service-prof-email">Email: <span style="color: red;">*</span></label>
                <input type="email" class="form-control" id="service-prof-email" name="service-prof-email" placeholder="Enter your email" required>
                <small class="form-text text-muted">Please enter a valid email address.</small>
            </div>
            <div class="form-group">
                <label for="service-prof-password">Password: <span style="color: red;">*</span></label>
                <input type="password" class="form-control" id="service-prof-password" name="service-prof-password" placeholder="Enter your password" required minlength="8" title="Password must be at least 8 characters long, including uppercase, lowercase, numbers, and special characters.">
                <small class="form-text text-muted">Password must be at least 8 characters long, including uppercase, lowercase, numbers, and special characters.</small>
            </div>
            <div class="form-group">
                <label for="service-prof-phone-no">Phone Number: <span style="color: red;">*</span></label>
                <input type="tel" class="form-control" id="service-prof-phone-no" name="service-prof-phone-no" placeholder="Enter your phone number" required pattern="^\+?\d{1,3}[- ]?\d{1,4}[- ]?\d{4,10}$" title="Please enter a valid phone number, excluding country code."maxlength="10" minlength="10">
                <small class="form-text text-muted">Please enter a valid phone number, excluding country code.</small>
            </div>
            <div class="form-group">
                <label for="service-prof-description">Description: <span style="color: red;">*</span></label>
                <textarea class="form-control" id="service-prof-description" name="service-prof-description" placeholder="Enter a brief description" required></textarea>
                <small class="form-text text-muted">Provide a brief description of your services.</small>
            </div>
            <div class="form-group">
                <label for="service-prof-type">Service Type: <span style="color: red;">*</span></label>
                <select class="form-control" id="service-prof-type" name="service-prof-type" required>
                    <option value="">Select a service type</option>
                    {% for service in service_names %}
                    <option value="{{ service }}">{{ service }}</option>
                    {% endfor %}
                </select>
                <small class="form-text text-muted">Select the type of service you provide.</small>
            </div>
            
            <div class="form-group">
                <label for="service-prof-experience">Experience (in years): <span style="color: red;">*</span></label>
                <input type="number" class="form-control" id="service-prof-experience" name="service-prof-experience" placeholder="Enter your experience in years" required min="0" max="50" title="Experience must be a number between 0 and 50.">
                <small class="form-text text-muted">Enter your experience in years.</small>
            </div>
            
            <div class="form-group">
                <label for="service-prof-address">Address: <span style="color: red;">*</span></label>
                <input type="text" class="form-control" id="service-prof-address" name="service-prof-address" placeholder="Enter your address" required>
                <small class="form-text text-muted">Provide a complete address including street, city, etc.</small>
            </div>
            
            <div class="form-group">
                <label for="service-prof-district">District: <span style="color: red;">*</span></label>
                <input type="text" class="form-control" id="service-prof-district" name="service-prof-district" placeholder="Enter your district" required>
                <small class="form-text text-muted">Enter the name of your district.</small>
            </div>
            
            <div class="form-group">
                <label for="service-prof-state">State: <span style="color: red;">*</span></label>
                <input type="text" class="form-control" id="service-prof-state" name="service-prof-state" placeholder="Enter your state" required>
                <small class="form-text text-muted">Enter the name of your state.</small>
            </div>
            
            <div class="form-group">
                <label for="service-prof-country">Country: <span style="color: red;">*</span></label>
                <input type="text" class="form-control" id="service-prof-country" name="service-prof-country" placeholder="Enter your country" required>
                <small class="form-text text-muted">Enter the name of your country.</small>
            </div>
            
            <div class="form-group">
                <label for="service-prof-pincode">Pincode: <span style="color: red;">*</span></label>
                <input type="text" class="form-control" id="service-prof-pincode" name="service-prof-pincode" placeholder="Enter your pincode" required pattern="^\d{6}$" title="Enter a valid 6-digit pincode (ZIP code).">
                <small class="form-text text-muted">Enter a valid 6-digit pincode (ZIP code).</small>
            </div>
            <div class="form-group">
                <label for="service-prof-govt-id-file">Upload Government ID (PDF, JPG, JPEG, PNG): <span style="color: red;">*</span></label>
                <input type="file" class="form-control" id="service-prof-govt-id-file" name="service-prof-govt-id-file" accept=".jpg,.jpeg,.png,.pdf" required>
                <small class="form-text text-muted">Upload a clear image or PDF of your government ID.</small>
            </div> 
            
            <button type="submit" class="btn btn-custom btn-block">Register</button>
        </form>
    </div>
    
    <div class="form-group">
        <span style="color: black;">Already Registered? <a href="{{ url_for('login') }}">Login</a></span>    
    </div>
</div>

{% endblock %}

{% block style %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/registrationform.css') }}">
{% endblock %}

{% block script %}
<script src="{{ url_for('static', filename='js/registrationform.js') }}"></script>
{% endblock %}
